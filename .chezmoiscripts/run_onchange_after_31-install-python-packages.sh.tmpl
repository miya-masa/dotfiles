#!/usr/bin/env bash

set -o nounset
set -o errexit
trap 'echo "Aborting due to errexit on line $LINENO. Exit code: $?" >&2' ERR
set -o errtrace
set -o pipefail
IFS=$'\n\t'

echo "üêç Installing Python packages..."

{{- if eq .chezmoi.os "linux" }}
# Activate mise to ensure Python is available
eval "$(~/.local/bin/mise activate bash)"
{{- end }}

# Install Python packages
pip install --upgrade pip
pip install \
  ansible \
  autopep8 \
  black \
  flake8 \
  ipython \
  isort \
  jupyterlab \
  matplotlib \
  mypy \
  numpy \
  pandas \
  pre-commit \
  pynvim \
  pytest \
  python-lsp-server \
  requests \
  ruff \
  seaborn \
  sqlfluff \
  pgcli \
  yamllint

echo "‚úÖ Python packages installed successfully!"
