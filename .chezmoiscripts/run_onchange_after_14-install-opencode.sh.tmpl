#!/usr/bin/env bash
{{- if eq .chezmoi.os "linux" }}

set -o nounset
set -o errexit
trap 'echo "Aborting due to errexit on line $LINENO. Exit code: $?" >&2' ERR
set -o errtrace
set -o pipefail
IFS=$'\n\t'

function has() {
  type "$1" >/dev/null 2>&1
}

echo "ðŸ“¦ Installing opencode..."

if has opencode; then
  echo "âœ… opencode is already installed"
  exit 0
fi

curl -fsSL https://opencode.ai/install | bash

echo "âœ… opencode installed successfully!"

{{- end }}
